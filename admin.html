<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin - The Classic 2026</title>
  <link rel="stylesheet" href="css/styles.css?v=20260223">
  <link rel="icon" href="/favicon.ico">
</head>
<body>

  <!-- Login Overlay -->
  <div class="admin-login-overlay" id="login-overlay">
    <div class="admin-login-card">
      <div class="admin-login-header">ADMIN</div>
      <div class="admin-login-subtitle">The Classic 2026</div>
      <form id="login-form" onsubmit="handleLogin(event)">
        <div class="admin-login-field">
          <label for="login-user">Username</label>
          <input type="text" id="login-user" autocomplete="username" required>
        </div>
        <div class="admin-login-field">
          <label for="login-pass">Password</label>
          <input type="password" id="login-pass" autocomplete="current-password" required>
        </div>
        <div class="admin-login-error" id="login-error"></div>
        <button type="submit" class="admin-login-btn">Sign In</button>
      </form>
      <a href="index.html" class="admin-login-back">&larr; Back to Site</a>
    </div>
  </div>

  <div id="admin-app" style="display:none;">
  <nav class="navbar">
    <input type="checkbox" id="nav-toggle" class="nav-toggle">
    <label for="nav-toggle" class="nav-toggle-label">Menu</label>
    <div class="nav-container">
      <a href="index.html" class="nav-link">Tournament Format</a>
      <a href="draft.html" class="nav-link">Draft Board</a>
      <a href="leaderboard.html" class="nav-link">Live Leaderboard</a>
      <a href="history.html" class="nav-link">History</a>
      <a href="admin.html" class="nav-link admin-link active">Admin</a>
    </div>
  </nav>

  <main class="admin-page">
    <header class="admin-header">
      <div>
        <div class="admin-eyebrow" id="admin-eyebrow">Admin Console</div>
        <h1 id="admin-title">Admin Console</h1>
        <p class="admin-subtitle" id="admin-subtitle">Draft players, build matchups, and enter scores.</p>
      </div>
      <div class="admin-actions">
        <button class="btn-primary" id="save-btn" type="button" onclick="saveData()">Save</button>
        <button class="btn-danger" type="button" onclick="clearAll()">Clear All</button>
        <button class="btn-logout" type="button" onclick="logout()">Log Out</button>
        <div class="save-reminder" id="save-reminder">Unsaved changes</div>
      </div>
    </header>

    <!-- Tab Bar -->
    <div class="admin-tabs">
      <button class="admin-tab active" onclick="switchTab('draft')" id="tab-btn-draft">Draft</button>
      <button class="admin-tab" onclick="switchTab('matchups')" id="tab-btn-matchups">Matchups</button>
      <button class="admin-tab" onclick="switchTab('scores')" id="tab-btn-scores">Score Entry</button>
    </div>

    <!-- TAB: Draft -->
    <div class="tab-content active" id="tab-draft">
      <div class="draft-status draft-status--waiting" id="admin-draft-status">
        Loading draft data...
      </div>

      <div class="captains-grid">
        <div>
          <div class="team-column-header">Team Brock</div>
          <div class="draft-slots" id="admin-team-brock-slots"></div>
        </div>
        <div class="captains-vs">VS</div>
        <div>
          <div class="team-column-header">Team Jared</div>
          <div class="draft-slots" id="admin-team-jared-slots"></div>
        </div>
      </div>

      <div class="section-header" id="admin-pool-header" style="margin-top: 30px;">
        <h2>Available Players</h2>
      </div>
      <div class="draft-pool-grid" id="admin-pool-grid"></div>
    </div>

    <!-- TAB: Matchups -->
    <div class="tab-content" id="tab-matchups">
      <div class="draft-status" id="matchup-status" style="margin-bottom: 20px;">
        Assign players to match slots below.
      </div>
      <div id="matchup-builder-container"></div>
    </div>

    <!-- TAB: Score Entry -->
    <div class="tab-content" id="tab-scores">
      <section class="admin-stats" aria-label="Match status">
        <div class="stat-card">
          <div class="stat-label">Complete</div>
          <div class="stat-value" id="stat-complete">0</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">In Progress</div>
          <div class="stat-value" id="stat-in-progress">0</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Not Started</div>
          <div class="stat-value" id="stat-not-started">0</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Progress</div>
          <div class="stat-value" id="stat-progress">0%</div>
        </div>
      </section>

      <section class="totals-panel" aria-label="Team totals">
        <div class="totals-heading">
          <h2>Team Totals</h2>
          <p>Auto-calculated from current match scores.</p>
        </div>
        <div class="totals-grid">
          <div class="total-card brock">
            <span class="total-team">Team Brock</span>
            <span class="total-score" id="total-brock">0.0</span>
          </div>
          <div class="total-card jared">
            <span class="total-team">Team Jared</span>
            <span class="total-score" id="total-jared">0.0</span>
          </div>
        </div>
      </section>

      <section class="foursomes" id="foursomes" aria-live="polite" style="padding-bottom: 80px;"></section>
    </div>
  </main>
  </div><!-- end #admin-app -->

  <!-- Sticky save bar for foursome users -->
  <div id="foursome-save-bar" style="display:none; position:fixed; bottom:0; left:0; right:0; background:#fff; border-top:2px solid #d4af37; padding:12px 20px; align-items:center; justify-content:space-between; z-index:1000; box-shadow:0 -2px 12px rgba(0,0,0,0.1);">
    <span id="foursome-save-status" style="font-family:'Copperplate',Georgia,serif; font-size:0.85em; color:#006747;"></span>
    <button class="btn-primary" type="button" onclick="saveData()" style="background:#006747; color:#f5f3e8; border:none; padding:10px 28px; border-radius:6px; font-size:1em; font-weight:700; cursor:pointer;">Save Scores</button>
  </div>

  <script src="admin.js"></script>
</body>
</html>
